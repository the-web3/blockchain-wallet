# Bitcoin é’±åŒ…ç¦»çº¿åœ°å€ç”Ÿæˆå’Œç­¾åå®žæˆ˜

# ä¸€. Bitcoin æ¦‚è§ˆ

## 1. Bitcoin ç®€ä»‹

æ¯”ç‰¹å¸ï¼ˆBitcoinï¼‰æ˜¯ç”±ä¸€ä¸ªæˆ–ä¸€ç¾¤åŒ–åä¸ºä¸­æœ¬èªï¼ˆSatoshi Nakamotoï¼‰çš„äººåœ¨ 2008 å¹´æå‡ºï¼Œå¹¶äºŽ 2009 å¹´å¼€å§‹å‘å¸ƒçš„åŽ»ä¸­å¿ƒåŒ–æ•°å­—è´§å¸ã€‚å®ƒçš„å‡ºçŽ°æ ‡å¿—ç€ä¸€ç§æ–°åž‹é‡‘èžä½“ç³»çš„è¯žç”Ÿï¼Œå…·æœ‰ä»¥ä¸‹ä¸»è¦ç‰¹ç‚¹ï¼š

**åŽ»ä¸­å¿ƒåŒ–** 

ðŸ’¡ðŸ’¡æ¯”ç‰¹å¸ç½‘ç»œæ²¡æœ‰ä¸­å¤®ç®¡ç†æœºæž„æˆ–ä¸­ä»‹æœºæž„ï¼Œå®ƒé€šè¿‡ä¸€ä¸ªç§°ä¸ºåŒºå—é“¾çš„åˆ†å¸ƒå¼è´¦æœ¬æ¥è®°å½•æ‰€æœ‰äº¤æ˜“ã€‚ 

ðŸ’¡ðŸ’¡åŒºå—é“¾æŠ€æœ¯ç¡®ä¿äº†æ‰€æœ‰å‚ä¸Žè€…éƒ½å¯ä»¥æŸ¥çœ‹å’ŒéªŒè¯äº¤æ˜“ï¼Œæé«˜äº†é€æ˜Žåº¦å’Œå®‰å…¨æ€§ã€‚



**æœ‰é™ä¾›åº”** 

ðŸ’¡ðŸ’¡æ¯”ç‰¹å¸çš„æ€»ä¾›åº”é‡è¢«å›ºå®šåœ¨2100ä¸‡æžšï¼Œè¿™é€šè¿‡ä»£ç å†…çš„æœºåˆ¶æŽ§åˆ¶ã€‚ 

ðŸ’¡ðŸ’¡è¿™ä¸€æœºåˆ¶ä½¿æ¯”ç‰¹å¸å…·å¤‡äº†æŠ—é€šèƒ€çš„ç‰¹ç‚¹ã€‚



**ç‚¹å¯¹ç‚¹äº¤æ˜“** 

ðŸ’¡ðŸ’¡æ¯”ç‰¹å¸å…è®¸ç”¨æˆ·ä¹‹é—´ç›´æŽ¥è¿›è¡Œäº¤æ˜“ï¼Œä¸éœ€è¦é€šè¿‡é“¶è¡Œæˆ–æ”¯ä»˜å¤„ç†æœºæž„ã€‚

 ðŸ’¡ðŸ’¡è¿™ç§ç‚¹å¯¹ç‚¹äº¤æ˜“å‡å°‘äº†äº¤æ˜“æˆæœ¬å’Œå¤„ç†æ—¶é—´ã€‚



**å®‰å…¨æ€§** 

ðŸ’¡ðŸ’¡æ¯”ç‰¹å¸ä½¿ç”¨åŠ å¯†æŠ€æœ¯ç¡®ä¿äº¤æ˜“çš„å®‰å…¨æ€§å’Œéšç§æ€§ã€‚ 

ðŸ’¡ðŸ’¡æ¯ä¸€ç¬”äº¤æ˜“éƒ½éœ€è¦é€šè¿‡å¤æ‚çš„æ•°å­¦ç®—æ³•è¿›è¡ŒéªŒè¯ï¼Œä»Žè€Œç¡®ä¿ç³»ç»Ÿçš„å®Œæ•´æ€§ã€‚



**ä¸å¯é€†äº¤æ˜“** 

ðŸ’¡ðŸ’¡ä¸€æ—¦æ¯”ç‰¹å¸äº¤æ˜“è¢«ç¡®è®¤ï¼Œå®ƒå°±æ— æ³•è¢«æ’¤é”€ã€‚è¿™å‡å°‘äº†æ¬ºè¯ˆçš„é£Žé™©ï¼Œä½†ä¹Ÿæ„å‘³ç€ç”¨æˆ·éœ€è¦è°¨æ…Žæ“ä½œã€‚



**æŒ–çŸ¿æœºåˆ¶** 

ðŸ’¡ðŸ’¡æ–°çš„æ¯”ç‰¹å¸é€šè¿‡ä¸€ä¸ªç§°ä¸ºæŒ–çŸ¿çš„è¿‡ç¨‹äº§ç”Ÿã€‚çŸ¿å·¥ä»¬ä½¿ç”¨è®¡ç®—èƒ½åŠ›æ¥è§£å†³å¤æ‚çš„æ•°å­¦é—®é¢˜ï¼ŒæˆåŠŸè§£å†³é—®é¢˜çš„çŸ¿å·¥å°†èŽ·å¾—æ¯”ç‰¹å¸å¥–åŠ±ã€‚ 

ðŸ’¡ðŸ’¡æŒ–çŸ¿ä¸ä»…ç”Ÿæˆæ–°å¸ï¼Œè¿˜ç»´æŠ¤å’Œä¿æŠ¤æ¯”ç‰¹å¸ç½‘ç»œçš„å®‰å…¨ã€‚



**å…¨çƒæµé€š** 

ðŸ’¡ðŸ’¡æ¯”ç‰¹å¸å¯ä»¥åœ¨å…¨çƒèŒƒå›´å†…è¿›è¡Œäº¤æ˜“ï¼Œä¸å—åœ°åŸŸå’Œå›½ç•Œçš„é™åˆ¶ã€‚ 

ðŸ’¡ðŸ’¡å®ƒä¸ºè·¨å›½æ”¯ä»˜æä¾›äº†ä¸€ç§é«˜æ•ˆã€ä½Žæˆæœ¬çš„æ›¿ä»£æ–¹æ¡ˆã€‚



**éšç§å’ŒåŒ¿åæ€§** 

ðŸ’¡ðŸ’¡è™½ç„¶æ¯”ç‰¹å¸äº¤æ˜“æ˜¯å…¬å¼€è®°å½•çš„ï¼Œä½†ç”¨æˆ·èº«ä»½æ˜¯åŒ¿åçš„ã€‚äº¤æ˜“æ˜¯é€šè¿‡åœ°å€ï¼ˆç±»ä¼¼äºŽè´¦å·ï¼‰è¿›è¡Œçš„ï¼Œè€Œä¸æ˜¯é€šè¿‡çœŸå®žèº«ä»½ã€‚



## 2.Bitcoin çš„å‡çº§æ¬¡æ•°ä»‹ç»

æ¯”ç‰¹å¸è‡ª 2009 å¹´å‘å¸ƒä»¥æ¥ï¼Œç»åŽ†äº†å¤šæ¬¡é‡è¦å‡çº§ã€‚è¿™äº›å‡çº§æ—¨åœ¨æé«˜æ¯”ç‰¹å¸ç½‘ç»œçš„å®‰å…¨æ€§ã€æ•ˆçŽ‡å’ŒåŠŸèƒ½æ€§ã€‚

å¹¶ä¸”æ¯”ç‰¹å¸çš„ Taproot å‡çº§ç»™æ¯”ç‰¹å¸å¸¦æ¥æ›´å¤šçš„å¯èƒ½æ€§ï¼ŒTaproot å‡çº§å¸¦åŠ¨äº† BRC20 å’Œ Bitcoin-Layer2 çš„å‘å±•ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸åœ¨åšè¿‡å¤šçš„ä»‹ç»ï¼Œåœ¨æœªæ¥çš„ Layer2. çš„è¯¾ç¨‹ä¸­æˆ‘ä»¬ä¼šæ·±å…¥è®²è§£è¿™éƒ¨åˆ†çš„å†…å®¹

**P2SHï¼ˆPay-to-Script-Hashï¼‰** 

ðŸ’¡ðŸ’¡æ—¶é—´ï¼š2012å¹´ 

ðŸ’¡ðŸ’¡BIPï¼ˆBitcoin Improvement Proposalï¼‰ï¼šBIP-0016 

ðŸ’¡ðŸ’¡å†…å®¹ï¼šå…è®¸æ›´å¤æ‚çš„äº¤æ˜“è„šæœ¬ï¼Œæ”¯æŒå¤šé‡ç­¾ååœ°å€ã€‚è¿™ç§å‡çº§ä½¿å¾—æ¯”ç‰¹å¸äº¤æ˜“æ›´åŠ çµæ´»å’Œå®‰å…¨



**æ¯”ç‰¹å¸æ”¹è¿›ææ¡ˆ BIP 66** 

ðŸ’¡ðŸ’¡æ—¶é—´ï¼š2015å¹´ 

ðŸ’¡ðŸ’¡BIPï¼šBIP-0066 

ðŸ’¡ðŸ’¡å†…å®¹ï¼šè§„èŒƒäº†äº¤æ˜“ä¸­DERæ ¼å¼çš„ç­¾åï¼Œè§£å†³äº†äº¤æ˜“ç­¾åçš„ä¸€è‡´æ€§é—®é¢˜ï¼Œå¢žå¼ºäº†ç½‘ç»œçš„å®‰å…¨æ€§ã€‚



**CheckSequenceVerifyï¼ˆCSVï¼‰** 

ðŸ’¡ðŸ’¡æ—¶é—´ï¼š2016å¹´ 

ðŸ’¡ðŸ’¡BIPï¼šBIP-0112 

ðŸ’¡ðŸ’¡å†…å®¹ï¼šå¢žåŠ äº†ç›¸å¯¹æ—¶é—´é”åŠŸèƒ½ï¼Œä½¿å¾—äº¤æ˜“å¯ä»¥åœ¨æŒ‡å®šçš„æ—¶é—´æˆ–å—é«˜åº¦ä¹‹åŽæ‰ç”Ÿæ•ˆï¼Œè¿™ä¸ºæ›´å¤æ‚çš„æ”¯ä»˜é€šé“é“ºå¹³äº†é“è·¯ã€‚



**Segregated Witnessï¼ˆSegWitï¼‰** 

ðŸ’¡ðŸ’¡æ—¶é—´ï¼š2017å¹´ 

ðŸ’¡ðŸ’¡BIPï¼šBIP-0141, BIP-0143, BIP-0144 

ðŸ’¡ðŸ’¡å†…å®¹ï¼šåˆ†ç¦»äº¤æ˜“ç­¾åæ•°æ®ï¼Œæé«˜äº†åŒºå—çš„æœ‰æ•ˆå®¹é‡ï¼Œå‡å°äº†äº¤æ˜“ä½“ç§¯ï¼Œé™ä½Žäº†äº¤æ˜“è´¹ç”¨ã€‚è¿˜è§£å†³äº†äº¤æ˜“çš„å¯å¡‘æ€§é—®é¢˜ï¼Œä½¿å¾—é—ªç”µç½‘ç»œç­‰ä¾§é“¾è§£å†³æ–¹æ¡ˆæˆä¸ºå¯èƒ½ã€‚



**éš”ç¦»è§è¯2xï¼ˆSegWit2xï¼‰** 

ðŸ’¡ðŸ’¡æ—¶é—´ï¼š2017å¹´ 

ðŸ’¡ðŸ’¡å†…å®¹ï¼šè¿™æ¬¡å‡çº§æ˜¯å¯¹ SegWit çš„åŽç»­ææ¡ˆï¼Œæ—¨åœ¨è¿›ä¸€æ­¥å¢žåŠ åŒºå—å¤§å°ã€‚ç„¶è€Œï¼Œç”±äºŽç¤¾åŒºå…±è¯†æœªè¾¾æˆï¼Œè¿™æ¬¡å‡çº§æœ€ç»ˆæœªèƒ½å®žçŽ°ã€‚



**Taproot** 

ðŸ’¡ðŸ’¡æ—¶é—´ï¼š2021å¹´ 

ðŸ’¡ðŸ’¡BIPï¼šBIP-0340, BIP-0341, BIP-0342 

ðŸ’¡ðŸ’¡å†…å®¹ï¼šå¼•å…¥äº† Schnorr ç­¾åå’Œé»˜å…‹å°”åŒ–æŠ½è±¡è¯­æ³•æ ‘ï¼ˆMASTï¼‰ï¼Œå¢žå¼ºäº†éšç§æ€§å’Œæ‰§è¡Œè„šæœ¬éªŒè¯çš„åŠŸèƒ½ï¼Œè¿›ä¸€æ­¥æé«˜äº†äº¤æ˜“çš„çµæ´»æ€§å’Œæ•ˆçŽ‡ã€‚è¿™æ˜¯è‡ª2017å¹´ SegWit ä»¥æ¥æœ€é‡è¦çš„ä¸€æ¬¡å‡çº§ã€‚



 ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡**MASTï¼ˆMerkelized Abstract Syntax Treesï¼‰** 

ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡æ—¶é—´ï¼š2021å¹´

 ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡BIPï¼šä½œä¸º Taproot çš„ä¸€éƒ¨åˆ† 

ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡å†…å®¹ï¼šå…è®¸å°†å¤šç§æ¡ä»¶çš„æ™ºèƒ½åˆçº¦åˆå¹¶ä¸ºä¸€ä¸ªï¼Œä½¿å¾—åªæœ‰æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†æ‰è¢«å…¬å¼€ï¼Œæé«˜äº†éšç§æ€§å’Œæ•ˆçŽ‡ã€‚ 



ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡**Schnorr Signatures** 

ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡æ—¶é—´ï¼š2021å¹´ 

ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡BIPï¼šä½œä¸º Taproot çš„ä¸€éƒ¨åˆ† 

ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡ðŸ’¡å†…å®¹ï¼šæä¾›äº†ä¸€ç§æ›´é«˜æ•ˆå’Œå®‰å…¨çš„ç­¾åç®—æ³•ï¼Œå…è®¸å¤šé‡ç­¾åèšåˆï¼Œæé«˜äº†äº¤æ˜“çš„éšç§æ€§å’Œå¯æ‰©å±•æ€§ã€‚



## 3.UTXO ä»‹ç»

UTXOï¼ˆUnspent Transaction Outputï¼ŒæœªèŠ±è´¹äº¤æ˜“è¾“å‡ºï¼‰æ¨¡åž‹æ˜¯æ¯”ç‰¹å¸åŠå…¶ä»–ä¸€äº›åŠ å¯†è´§å¸ä½¿ç”¨çš„ä¸€ç§è®°è´¦æ–¹æ³•ã€‚å®ƒä¸Žè´¦æˆ·æ¨¡åž‹ä¸åŒï¼Œé€šè¿‡è¿½è¸ªæœªèŠ±è´¹çš„äº¤æ˜“è¾“å‡ºæ¥è®°å½•æ¯ä¸ªåœ°å€çš„ä½™é¢ã€‚ä»¥ä¸‹æ˜¯UTXOæ¨¡åž‹çš„è¯¦ç»†ä»‹ç»ï¼š



**æ¨¡åž‹è§£è¯´**

åœ¨è§£è¯´ UTXO æ¨¡åž‹ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆè¯´è¯´ä¸€ä¸ªåè¯ï¼Œå«åš Transactionï¼Œå³äº¤æ˜“ï¼ŒTransaction å’Œ UTXO æ˜¯ç›¸è¾…ç›¸æˆçš„ï¼Œä¸‹é¢å…ˆæ¥ä¸¾ä¸ªä¾‹å­ï¼š

å¼ ä¸‰ï¼šé€šè¿‡æŒ–çŸ¿å¾—åˆ°äº†120ä¸ªæ¯”ç‰¹å¸ï¼ŒçŽ°åœ¨å¼ ä¸‰é¥¿äº†ï¼Œæƒ³è¦èŠ±è´¹2ä¸ªæ¯”ç‰¹å¸åŽ»è´­ä¹°ä¸€ä¸ªé¢åŒ…ã€‚è¿™æ˜¯åªæ˜¯ä¸¾ä¾‹è€Œå·²ï¼Œä»¥çŽ°åœ¨æ¯”ç‰¹å¸çš„ä»·æ ¼ï¼Œ1ä¸ªæ¯”ç‰¹å¸å°±å¯ä»¥ä¹°åˆ°ä¸€å¤§å †é¢åŒ…äº†ã€‚

çŽ°åœ¨æˆ‘ä»¬å‡è®¾ï¼ŒæŽå››æ˜¯é¢åŒ…åº—è¥ä¸šä¸»

è¿™æ ·çš„è¯ï¼Œåœ¨æ¯”ç‰¹å¸ä¸­ï¼Œå¼ ä¸‰ä»˜ç»™æŽå››å°†ä¸€æ¬¡æ€§ä»˜ç»™æŽå›› 120 å—ï¼ŒæŽå››ç»™å¼ ä¸‰æ‰¾é›¶ 118 å—ï¼Œè¿™é‡Œå…¶å®žäº§ç”Ÿäº†ä¸¤ç¬”äº¤æ˜“ï¼Œå’±ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼Œå¼ ä¸‰çš„é’±è¢«åˆ†æˆäº†ä¸¤ä»½ï¼Œå…¶ä¸­ 118 æ‰“ç»™äº†è‡ªå·±ï¼Œå‰©ä¸‹çš„ 2 å—æ‰“ç»™äº†æŽå››ã€‚

äº¤æ˜“ä¸Žäº¤æ˜“ä¹‹é—´ç»„æˆäº†ç½‘çŠ¶å…³ç³»ï¼Œ1 ä¸ªäº¤æ˜“çš„è¾“å‡ºï¼Œæˆä¸ºäº†ä¸‹ 1 ä¸ªäº¤æ˜“çš„è¾“å…¥ï¼›ä¸‹ 1 ä¸ªäº¤æ˜“çš„è¾“å‡ºï¼Œåˆæˆäº†ä¸‹ä¸‹ 1 ä¸ªäº¤æ˜“çš„è¾“å…¥ã€‚æ‰€æœ‰çš„é’±ï¼Œåœ¨è¿™ä¸ªç½‘ç»œä¸­æµåŠ¨ï¼Œæ¯ 1 ç¬”é’±çš„åŽ»å‘ã€æ¥æºï¼Œéƒ½æ˜¯å¯è¿½æº¯çš„ï¼Œè€Œè¿™ä¹Ÿæ˜¯åŒºå—é“¾ç½‘ç»œçš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹ã€‚

ä¸Šé¢çš„è®²è§£å¯èƒ½å¤§å¤šæ•°äººéƒ½æ¯”è¾ƒæ‡µé€¼ï¼ŒæŽ¥ä¸‹æ¥å’±ä»¬ç”¨æ¯”è¾ƒé€šä¿—çš„æ–¹å¼æ¥è¯´æ˜Ž UTXO å’Œ Transaction åˆ°åº•æ˜¯ä»€ä¹ˆ

åœ¨çŽ°å®žç”Ÿæ´»ä¸­ï¼Œä¸€ç¬”è½¬è´¦å¯¹åº”çš„äº‹ä¸€ä¸ªä»˜æ¬¾äººå’Œä¸€ä¸ªæ”¶æ¬¾äººï¼Œè€Œåœ¨æ¯”ç‰¹å¸ç§ï¼Œä¸€ç¬”è½¬è´¦å¯¹åº”çš„äº‹å¤šä¸ªè½¬è´¦äººå’Œå¤šä¸ªæ”¶æ¬¾äººã€‚

çŽ°åœ¨å’±ä»¬ä»”ç»†åˆ†æžä¸€ä¸‹ä¸Šé¢çš„è¿™ä¸ªä¾‹å­ï¼Œå¯¹äºŽå¼ ä¸‰ä¹°é¢åŒ…è¿™ä¸ªæ¡ˆåˆ—

- ä»˜æ¬¾äººï¼šå¼ ä¸‰ 120å—
- æ”¶æ¬¾äººï¼šå¼ ä¸‰ 118å—ï¼ŒæŽå›› 2å—

å¼ ä¸‰çš„120ï¼Œè½¬118å—ç»™è‡ªå·±ï¼Œè½¬2å—ç»™æŽå››ï¼Œå¯¹åº”åˆ°äº¤æ˜“é‡Œé¢ï¼Œå°±æ˜¯è¿™ç¬”äº¤æ˜“æœ‰1ä¸ªè¾“å…¥ï¼Œ2ä¸ªè¾“å‡ºï¼

ä¸‹é¢æ¥ä¸€ä¸ªå¤šè¾“å…¥ï¼Œå¤šè¾“å‡ºçš„æ¡ˆä¾‹

è€ƒè™‘å¦‚ä¸‹åœºæ™¯ï¼šç”¨æˆ·Aå’Œç”¨æˆ·Bä¹‹é—´å‘ç”Ÿäº†ä¸€ä¸ªäº¤æ˜“T3ï¼ŒA å‘ B è½¬ 100 å…ƒã€‚ Açš„100å…ƒï¼Œæ¥è‡ªT1ï¼šCå‘Aè½¬çš„80å…ƒ + T2ï¼šDå‘Aè½¬çš„30å…ƒï¼ˆå…±110å…ƒï¼Œä½†Aåªè½¬äº†100å…ƒç»™Bï¼Œ10å…ƒæ‰¾é›¶è¿”å›žç»™Açš„è´¦å·ï¼‰ã€‚ åŒç†ï¼ŒCå‘Aè½¬çš„è¿™80å…ƒï¼Œæ¥è‡ªç”¨æˆ·Eã€Fçš„æŸæ¬¡äº¤æ˜“...... Då‘Aè½¬çš„è¿™30å…ƒï¼Œæ¥è‡ªç”¨æˆ·Eçš„æŸæ¬¡äº¤æ˜“......

è¿™ä¸ªäº¤æ˜“å°±æœ‰2ä¸ªè¾“å…¥ï¼Œ2ä¸ªè¾“å‡ºï¼š 2ä¸ªè¾“å…¥ï¼ˆä¹Ÿå°±æ˜¯2ä¸ªUTXOï¼‰ï¼š T1: Cå‘Aè½¬çš„80å…ƒ T2ï¼šDå‘Aè½¬çš„30å…ƒ

2ä¸ªè¾“å‡ºï¼š Bï¼š100å…ƒ Aï¼š10å…ƒï¼ˆæ‰¾é›¶ï¼‰

å½“ä½ ç†è§£ä¸Šé¢çš„ä¾‹å­æ—¶ï¼Œæˆ‘ä»¬å†æ¥è¯´ä¸€ä¸‹UTXOï¼Œç†è§£ä¸Šé¢çš„ä¾‹å­å¯¹ä½ ç†è§£UTXOä¼šç‰¹åˆ«æœ‰å¸®åŠ©ã€‚

- æ¯”ç‰¹å¸çš„äº¤æ˜“ä¸­ä¸æ˜¯é€šè¿‡è´¦æˆ·çš„å¢žå‡æ¥å®žçŽ°çš„ï¼Œè€Œæ˜¯ä¸€ç¬”ç¬”å…³è”çš„è¾“å…¥/è¾“å‡ºäº¤æ˜“äº‹åŠ¡ã€‚

- æ¯ä¸€ç¬”çš„äº¤æ˜“éƒ½è¦èŠ±è´¹â€œè¾“å…¥â€ï¼Œç„¶åŽäº§ç”Ÿâ€œè¾“å‡ºâ€ï¼Œè¿™ä¸ªäº§ç”Ÿçš„â€œè¾“å‡ºâ€å°±æ˜¯æ‰€è°“çš„â€œæœªèŠ±è´¹è¿‡çš„äº¤æ˜“è¾“å‡ºâ€ï¼Œä¹Ÿå°±æ˜¯UTXOã€‚æ¯ä¸€ç¬”äº¤æ˜“äº‹åŠ¡éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç¼–å·ï¼Œç§°ä¸ºäº¤æ˜“äº‹åŠ¡IDï¼Œè¿™æ˜¯é€šè¿‡å“ˆå¸Œç®—æ³•è®¡ç®—è€Œæ¥çš„ï¼Œå½“éœ€è¦å¼•ç”¨æŸä¸€ç¬”äº¤æ˜“äº‹åŠ¡ä¸­çš„â€œè¾“å‡ºâ€æ—¶ï¼Œä¸»è¦æä¾›äº¤æ˜“äº‹åŠ¡IDå’Œæ‰€å¤„â€œè¾“å‡ºâ€åˆ—è¡¨ä¸­çš„åºå·å°±å¯ä»¥äº†ã€‚

- ç”±äºŽæ²¡æœ‰è´¦æˆ·çš„æ¦‚å¿µï¼Œå› æ­¤å½“â€œè¾“å…¥â€éƒ¨åˆ†çš„é‡‘é¢å¤§äºŽæ‰€éœ€çš„â€œè¾“å‡ºâ€æ—¶ï¼Œå¿…é¡»ç»™è‡ªå·±æ‰¾é›¶ï¼Œè¿™ä¸ªæ‰¾é›¶ä¹Ÿæ˜¯ä½œä¸ºäº¤æ˜“çš„ä¸€éƒ¨åˆ†åŒ…å«åœ¨â€œè¾“å‡ºâ€ä¸­ã€‚

- æ—§çš„ UTXOä¸æ–­æ¶ˆäº¡ï¼Œæ–°çš„UTXOä¸æ–­äº§ç”Ÿã€‚æ‰€æœ‰çš„UTXOï¼Œç»„æˆäº†UTXO Set çš„æ•°æ®åº“ï¼Œå­˜åœ¨äºŽæ¯ä¸ªèŠ‚ç‚¹

- ä»»ä½•1ç¬” UTXOï¼Œæœ‰ä¸”ä»…å¯èƒ½è¢«1ä¸ªäº¤æ˜“èŠ±è´¹1æ¬¡

- 1 ä¸ª UTXOï¼Œå…·æœ‰å¦‚ä¸‹çš„è¡¨è¾¾å½¢å¼ï¼š 1 ä¸ª UTXO = 1ä¸ªTransaction ID + Output Index

  

**2. UTXOæ¨¡åž‹çš„åŒºå—é“¾é’±åŒ…ä½™é¢å½¢å¼**

æ·±åˆ»ç†è§£äº†UTXOçš„æ¦‚å¿µï¼Œé’±åŒ…å°±å¾ˆå®¹æ˜“ç†è§£äº†ï¼ŒæŸä¸ªäººçš„é’±åŒ…çš„ä½™é¢ = å±žäºŽä»–çš„UTXOçš„æ€»å’Œï¼›åœ¨è¿™é‡Œï¼Œä½ ä¼šå‘çŽ°ä¸€ä¸ªä¸åŒäºŽçŽ°å®žä¸–ç•Œçš„â€œé“¶è¡Œâ€é‡Œçš„ä¸€ä¸ªæ¦‚å¿µï¼Œåœ¨é“¶è¡Œé‡Œï¼Œä¼šå­˜å‚¨æ¯ä¸ªè´¦å·å‰©ä½™å¤šå°‘é’±ã€‚ä½†è¿™é‡Œï¼Œæˆ‘ä»¬å­˜å‚¨çš„å¹¶ä¸æ˜¯æ¯ä¸ªè´¦å·çš„ä½™é¢ï¼Œè€Œå­˜çš„æ˜¯1ç¬”ç¬”çš„äº¤æ˜“ï¼Œä¹Ÿå°±æ˜¯1 ç¬”ç¬”çš„UTXOï¼Œæ¯ä¸ªè´¦æˆ·çš„ä½™é¢æ˜¯é€šè¿‡UTXOè®¡ç®—å‡ºæ¥çš„ï¼Œè€Œä¸æ˜¯ç›´æŽ¥å­˜å‚¨ä½™é¢ã€‚



# äºŒ. Bitcoin é’±åŒ…åœ°å€ç±»åž‹

Bitcoin é’±åŒ…åœ°å€æœ‰å‡ ç§ä¸åŒçš„ç±»åž‹ï¼Œæ¯ç§ç±»åž‹éƒ½æœ‰å…¶ç‰¹å®šçš„ç”¨é€”å’Œç‰¹ç‚¹ã€‚ä¸»è¦çš„å‡ ç§ç±»åž‹åŒ…æ‹¬ï¼š



**P2PKHï¼ˆPay-to-PubKeyHashï¼‰åœ°å€** 

ðŸ’¡ðŸ’¡æ ¼å¼ï¼šä»¥1å¼€å¤´ï¼Œä¾‹å¦‚ï¼Œ1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNaã€‚

 ðŸ’¡ðŸ’¡ç‰¹ç‚¹ï¼šè¿™æ˜¯æœ€ä¼ ç»Ÿå’Œæœ€å¸¸è§çš„åœ°å€ç±»åž‹ï¼Œå¹¿æ³›ç”¨äºŽæ¯”ç‰¹å¸çš„æ—©æœŸäº¤æ˜“ã€‚

 ðŸ’¡ðŸ’¡ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¥½ï¼Œå‡ ä¹Žæ‰€æœ‰é’±åŒ…å’Œäº¤æ˜“æ‰€éƒ½æ”¯æŒã€‚ 

ðŸ’¡ðŸ’¡ç¼ºç‚¹ï¼šéšç€æ—¶é—´çš„æŽ¨ç§»ï¼Œè¿™ç§åœ°å€ç±»åž‹çš„ä½¿ç”¨æ•ˆçŽ‡è¾ƒä½Žï¼Œäº¤æ˜“è´¹ç”¨å¯èƒ½ä¼šè¾ƒé«˜ã€‚



**P2SHï¼ˆPay-to-Script-Hashï¼‰åœ°å€** 

ðŸ’¡ðŸ’¡æ ¼å¼ï¼šä»¥3å¼€å¤´ï¼Œä¾‹å¦‚ï¼Œ3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLyã€‚ 

ðŸ’¡ðŸ’¡ç‰¹ç‚¹ï¼šè¿™ç§åœ°å€å…è®¸æ›´å¤æ‚çš„äº¤æ˜“è„šæœ¬ï¼Œä¾‹å¦‚å¤šé‡ç­¾ååœ°å€ã€‚

 ðŸ’¡ðŸ’¡ä¼˜ç‚¹ï¼šæ”¯æŒæ›´å¤æ‚çš„äº¤æ˜“å’Œè„šæœ¬ï¼Œå®‰å…¨æ€§æ›´é«˜ã€‚ 

ðŸ’¡ðŸ’¡ç¼ºç‚¹ï¼šåˆ›å»ºå’Œç®¡ç†æ¯”P2PKHåœ°å€æ›´å¤æ‚ã€‚



**Bech32ï¼ˆSegWitï¼‰åœ°å€** 

ðŸ’¡ðŸ’¡æ ¼å¼ï¼šä»¥ bc1 å¼€å¤´ï¼Œä¾‹å¦‚ï¼Œbc1qar0srrr7xfkvy5l643lydnw9re59gtzzwfvenlã€‚ 

ðŸ’¡ðŸ’¡ç‰¹ç‚¹ï¼šè¿™æ˜¯æ¯”ç‰¹å¸æ”¹è¿›ææ¡ˆBIP-0173ä¸­å¼•å…¥çš„æ–°åœ°å€æ ¼å¼ï¼Œæ—¨åœ¨æé«˜äº¤æ˜“æ•ˆçŽ‡å’Œå‡å°‘è´¹ç”¨ã€‚ 

ðŸ’¡ðŸ’¡ä¼˜ç‚¹ï¼šäº¤æ˜“è´¹ç”¨æ›´ä½Žï¼Œå¤„ç†é€Ÿåº¦æ›´å¿«ï¼Œä¸”æœ‰åŠ©äºŽå‡å°‘äº¤æ˜“ä½“ç§¯ã€‚ 

ðŸ’¡ðŸ’¡ç¼ºç‚¹ï¼šå¹¶éžæ‰€æœ‰çš„é’±åŒ…å’Œäº¤æ˜“æ‰€éƒ½æ”¯æŒè¿™ç§åœ°å€ç±»åž‹ï¼Œå°½ç®¡æ”¯æŒçŽ‡åœ¨é€æ­¥å¢žåŠ ã€‚

æ¯ç§åœ°å€ç±»åž‹éƒ½æœ‰å…¶ç‰¹å®šçš„åº”ç”¨åœºæ™¯å’Œä¼˜ç¼ºç‚¹ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„åœ°å€ç±»åž‹æ¥å­˜å‚¨å’Œäº¤æ˜“æ¯”ç‰¹å¸



# ä¸‰. Bitcoin ç¦»çº¿åœ°å€ç”Ÿæˆä»£ç 

## NodeJs ä»£ç 

```javascript
export function createAddress (params: any): any {
    const {seedHex, receiveOrChange, addressIndex, network, method } = params
    const root = bip32.fromSeed(Buffer.from(seedHex, 'hex'));
    let path = "m/44'/0'/0'/0/" + addressIndex + '';
    if (receiveOrChange === '1') {
        path = "m/44'/0'/0'/1/" + addressIndex + '';
    }
    const child = root.derivePath(path);
    let address: string
    switch(method) {
        case "p2pkh":
            const p2pkhAddress = bitcoin.payments.p2pkh({
                pubkey: child.publicKey,
                network: bitcoin.networks[network]
            });
            address = p2pkhAddress.address
            break
        case "p2wpkh":
            const p2wpkhAddress = bitcoin.payments.p2wpkh({
                pubkey: child.publicKey,
                network: bitcoin.networks[network]
            });
            address = p2wpkhAddress.address
            break
        case "p2sh":
            const p2shAddress = bitcoin.payments.p2sh({
                redeem: bitcoin.payments.p2wpkh({
                    pubkey: child.publicKey,
                    network: bitcoin.networks[network]
                }),
            });
            address = p2shAddress.address
            break
        default:
            console.log("This way can not support")
    }

    return {
        privateKey: Buffer.from(child.privateKey).toString('hex'),
        publicKey: Buffer.from(child.publicKey).toString('hex'),
        address
    };
}
```

ä»£ç ä¸­é€šè¿‡ method æ¥æŽ§åˆ¶ç”Ÿæˆçš„åœ°å€ç±»åˆ«



# å››. Bitcoin ç¦»çº¿ç­¾åä»£ç 

```javascript
export function buildAndSignTx (params: { privateKey: string; signObj: any; network: string; }): string {
    const { privateKey, signObj, network } = params;
    const net = bitcore.Networks[network];
    const inputs = signObj.inputs.map(input => {
        return {
            address: input.address,
            txId: input.txid,
            outputIndex: input.vout,
            script: new bitcore.Script.fromAddress(input.address).toHex(),
            satoshis: input.amount
        }
    });
    const outputs = signObj.outputs.map(output => {
        return {
            address: output.address,
            satoshis: output.amount
        };
    });
    const transaction = new bitcore.Transaction(net).from(inputs).to(outputs);
    transaction.version = 2;
    transaction.sign(privateKey);
    return transaction.toString();
}
```
